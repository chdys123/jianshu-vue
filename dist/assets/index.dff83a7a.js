import{Q as e,R as t,S as a,T as i,U as s,r as l,V as c,W as r,X as d,Y as n,Z as o,_ as m,$ as p,a0 as u,a1 as v,o as h,a2 as g,a3 as y,a4 as f}from"./vendor.2b14f918.js";import{w as A,h as _}from"./handerTime.c1674a62.js";import{_ as k}from"./index.420421d8.js";import"./popover2.1d03c9ce.js";const x={components:{webHeader:A},setup(){let{proxy:l}=p(),c=e();t();let r=a({data:[]}),d=i(l.$route.query.type?l.$route.query.type:0);const n=()=>l.http({method:"get",path:"/article/findAll",params:{start:r.data.length,Aclass:d.value}}).then((e=>{300==e.code?console.log("没有更多了"):(e.data.forEach(((e,t,a)=>{a[t].id=e._id})),r.data.push(...e.data))})),{handlerTime1:o}=_();s((()=>c.query.type),((e,t)=>{"/"==c.path&&(r.data=[],d.value=e,n())}));let m=a([]);return{type:d,updateTest:(e,t)=>{t==r.data.length-1&&n()},getArticle:n,article:r,handlerTime:o,toArticle:e=>{l.$router.push({path:"/article",query:{id:e}})},hotArticle:m,getHotArticle:()=>{l.http({method:"get",path:"/article/hotArticle",params:{}}).then((e=>{200==e.code&&m.push(...e.data)}))}}},created(){this.getArticle(),this.getHotArticle(),document.title="简书"},mounted(){}},T={class:"web-con"},w={class:"web-content"},I=["data-id","onClick"],b={class:"item-left"},C={class:"title"},j={key:0,class:"zw"},q={key:1,class:"img-con"},z=["src"],H=["src"],U=["src"],$=["src"],S={class:"msg"},D={key:0,class:"item-right"},E=["src"],Q={class:"web-content-fixed"},R=(e=>(u("data-v-0155264a"),e=e(),v(),e))((()=>d("div",{class:"wcf-h-con"},[d("i",{class:"iconfont icon-remen"}),d("span",{class:"wcf-h"}," 头条热榜 ")],-1))),V=["onClick"],W=["onClick"];var X=k(x,[["render",function(e,t,a,i,s,p){const u=l("webHeader"),v=l("DynamicScrollerItem"),A=l("DynamicScroller");return h(),c("div",T,[r(u),d("div",w,[r(A,{items:i.article.data,"min-item-size":52,class:"scroller","page-mode":"",emitUpdate:!0,onUpdate:i.updateTest},{default:n((({item:e,index:t,active:a})=>[r(v,{item:e,active:a,"size-dependencies":[e.id],"data-index":t},{default:n((()=>[(h(),c("div",{class:"article-item",key:e.id,"data-id":e._id,onClick:t=>i.toArticle(e._id)},[d("div",b,[d("span",C,g(e.title),1),"无封面"==e.coverType?(h(),c("div",j)):y("",!0),"四图"==e.coverType?(h(),c("div",q,[d("div",null,[d("img",{src:e.coverImg[0]},null,8,z)]),d("div",null,[d("img",{src:e.coverImg[1]},null,8,H)]),d("div",null,[d("img",{src:e.coverImg[2]},null,8,U)]),d("div",null,[d("img",{src:e.coverImg[3]},null,8,$)])])):y("",!0),d("div",S,[d("span",null,g(e.author),1),d("span",null,g(e.comment)+"条评论 ",1),d("span",null,g(i.handlerTime(e.createTime)),1)])]),"单图"==e.coverType?(h(),c("div",D,[d("img",{src:e.coverImg[0]},null,8,E)])):y("",!0)],8,I))])),_:2},1032,["item","active","size-dependencies","data-index"])])),_:1},8,["items","onUpdate"]),d("div",Q,[R,(h(!0),c(o,null,m(i.hotArticle,((e,t)=>(h(),c("div",{key:e._id,class:"hotArticle-item"},[d("span",{onClick:t=>i.toArticle(e._id),class:f(["item-index",{index1:0==t,index2:1==t,index3:2==t}])},g(t+1),11,V),d("span",{class:"item-title",onClick:t=>i.toArticle(e._id)},g(e.title),9,W)])))),128))])])])}],["__scopeId","data-v-0155264a"]]);export{X as default};
